openapi: 3.1.0
info:
  title: FastAPI
  version: 0.1.0
paths:
  /api/calls:
    get:
      tags:
      - dashboard
      summary: Get Calls
      description: Obtener lista de llamadas recientes
      operationId: get_calls_api_calls_get
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 50
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/calls/{call_id}:
    get:
      tags:
      - dashboard
      summary: Get Call Details
      description: Obtener detalles de una llamada específica
      operationId: get_call_details_api_calls__call_id__get
      parameters:
      - name: call_id
        in: path
        required: true
        schema:
          type: integer
          title: Call Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/search:
    get:
      tags:
      - dashboard
      summary: Search Calls
      description: Buscar llamadas por número de teléfono
      operationId: search_calls_api_search_get
      parameters:
      - name: phone
        in: query
        required: true
        schema:
          type: string
          title: Phone
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/openapi.yaml:
    get:
      tags:
      - dashboard
      - Documentacion
      summary: Get Openapi Yaml
      description: Descargar OpenAPI en YAML
      operationId: get_openapi_yaml_api_openapi_yaml_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /inicio:
    post:
      summary: Inicio
      description: Endpoint para cuando comienza la llamada
      operationId: inicio_inicio_post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /voice:
    post:
      summary: Voice
      operationId: voice_voice_post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /recording:
    post:
      summary: Recording
      description: 'Endpoint que recibe el callback de la grabación de Twilio.

        Twilio enviará RecordingUrl y otros metadatos.

        Aquí simplemente confirmamos la recepción y agradecemos al usuario.

        En un siguiente paso podríamos descargar la grabación y transcribirla con
        un servicio ASR externo.'
      operationId: recording_recording_post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /:
    get:
      summary: Root
      operationId: root__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /audio/{filename}:
    get:
      summary: Serve Audio
      description: Endpoint para servir archivos de audio
      operationId: serve_audio_audio__filename__get
      parameters:
      - name: filename
        in: path
        required: true
        schema:
          type: string
          title: Filename
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
components:
  schemas:
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
